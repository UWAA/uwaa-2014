var SW=L.latLng(47.6430704492123,-122.334308624268),NE=L.latLng(47.6774957780179,-122.274227142334),bounds=L.latLngBounds(SW,NE),clientWidth=$(window).width();L.mapbox.accessToken="pk.eyJ1IjoiYnBlcmljayIsImEiOiJrT2xBSUNzIn0.n-CVAwFlqHGqkiDUxsIdSQ";var map=L.mapbox.map("dawgdash-map","bperick.io0079f9",{tileLayer:{detectRetina:!0},maxBounds:bounds,minZoom:14,scrollWheelZoom:!1,doubleClickZoom:!1,tap:!1});map.setView([47.6774957780179,-122.6],14);var course_ui=document.getElementById("course-ui");map.featureLayer.on("ready",function(){function a(){for(var a={},b=0;b<l.length;b++)l[b].checked&&(a[l[b].id]=!0);map.featureLayer.setFilter(function(b){return b.properties.title in a})}function b(){$(this).toggleClass("active")}function c(){return $(this).parent("div").toggleClass("active"),!1}function d(){var b=$(this),c=$(this).find("input").prop("checked");!0===c?setTimeout(function(){b.find("input").prop("checked",!1).blur(),a()},10):!1===c&&setTimeout(function(){b.find("input").prop("checked",!0).blur(),a()},10)}function e(){$("#course-ui").on("tap",".ui_menu_box",b).on("tap","label",c).on("touchend mouseup",".ui_menu_box",d)}function f(){$("#course-ui").off("tap",".ui_menu_box").off("tap","label").off("touchend mouseup",".ui_menu_box")}for(var g={},h=[],i=map.featureLayer.getGeoJSON().features,j=0;j<i.length;j++)g[i[j].properties.title]=!0;for(var k in g)h.push(k);for(var l=[],m=0;m<h.length;m++){var n=course_ui.appendChild(document.createElement("div")),o=n.appendChild(document.createElement("input")),p=n.appendChild(document.createElement("label"));o.type="checkbox",o.id=h[m],o.checked=!0,n.className="active ui_menu_box",p.innerHTML=h[m],p.setAttribute("for",h[m]),l.push(o)}map.on("move",f),map.on("moveend",e),e()});