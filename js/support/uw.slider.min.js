UW.HomepageSlider=Backbone.View.extend({el:".uw-homepage-slider-container",slides:".uw-homepage-slider",headline:".next-headline",controls:".slideshow-controls",template:'<p class="next-headline slide-<%= slide %>" style="display:block;"><%= title %></p>',events:{"click .next-headline":"nextSlide"},initialize:function(a){_.bindAll(this,"render","nextSlide","changeNextArticle"),this.count=this.$el.children(this.slides).length,this.showNextHeadline(),this.changeNextArticle()},nextSlide:function(a){this.$el.children(this.slides).last().fadeOut(this.rotateSlides)},rotateSlides:function(){var a=$(this);a.insertBefore(a.siblings(this.slides).first()).fadeIn(),UW.homepageslider.changeNextArticle()},showNextHeadline:function(){this.$el.find(this.headline).show(),this.$el.find(this.controls).show()},changeNextArticle:function(){this.$el.find(this.headline).replaceWith(this.render)},render:function(){if(this.$el.hasClass("uwaa-communities-slider"))var a=this.$el.children(this.slides).eq(this.count-1);else var a=this.$el.children(this.slides).eq(this.count-2);return $(_.template(this.template)({title:a.find("h2").text(),slide:a.data().id}))}}),UW.HomepageSlider.initialize=function(){console.log($(".uw-homepage-slider").length),$(".uw-homepage-slider").length>1&&(UW.homepageslider=new UW.HomepageSlider)},$(document).ready(UW.HomepageSlider.initialize);