UW.HomepageSlider=Backbone.View.extend({el:".uw-homepage-slider-container",slides:".uw-homepage-slider",headline:".next-headline",template:'<p class="next-headline slide-<%= slide %>" style="display:block;"><%= title %></p>',events:{"click .next-headline":"nextSlide"},initialize:function(e){_.bindAll(this,"render","nextSlide","changeNextArticle"),this.count=this.$el.children(this.slides).length,this.showNextHeadline(),this.changeNextArticle()},nextSlide:function(e){this.$el.children(this.slides).last().fadeOut(this.rotateSlides)},rotateSlides:function(){var e=$(this);e.insertBefore(e.siblings(this.slides).first()).fadeIn(),UW.homepageslider.changeNextArticle()},showNextHeadline:function(){this.$el.find(this.headline).show()},changeNextArticle:function(){this.$el.find(this.headline).replaceWith(this.render)},render:function(){if(this.$el.hasClass("uwaa-communities-slider"))var e=this.$el.children(this.slides).eq(this.count-1);else e=this.$el.children(this.slides).eq(this.count-2);return $(_.template(this.template)({title:e.find("h2").text(),slide:e.data().id}))}}),UW.HomepageSlider.initialize=function(){1<$(".uw-homepage-slider").length&&(UW.homepageslider=new UW.HomepageSlider)},$(document).ready(UW.HomepageSlider.initialize);